# TCP长连接和短连接
---
TCP建立连接，释放连接都需要资源和时间的消耗（三次握手四次挥手）。
## 长连接、短链接
短连接操作步骤：


```
建立连接——数据传输——关闭连接...建立连接——数据传输——关闭连接
```
长连接操作步骤


```
建立连接——数据传输...（保持连接）...数据传输——关闭连接
```



## TCP长/短连接的优点和缺点
 - 长连接可以省去较多的TCP建立和关闭的操作，减少浪费，节约时间。

 - 对于频繁请求资源的客户来说，较适用长连接。

  - client与server之间的连接如果一直不关闭的话，会存在一个问题，随着客户端连接越来越多，server早晚有扛不住的时候，这时候server端需要采取一些策略，如关闭一些长时间没有读写事件发生的连接，这样可以避免一些恶意连接导致server端服务受损；如果条件再允许就可以以客户端机器为颗粒度，限制每个客户端的最大长连接数，这样可以完全避免某个蛋疼的客户端连累后端服务。

 - 短连接对于服务器来说管理较为简单，存在的连接都是有用的连接，不需要额外的控制手段。
  - 但如果客户请求频繁，将在TCP的建立和关闭操作上浪费时间和带宽。
 
## 